.MODEL SMALL
.STACK 100H
.DATA
msg1  DW  'Enter size of array :$'
ARRAY DW 255 DUP(?)    
.CODE

MAIN PROC

	MOV AX, @DATA                	; initialize DS
     	MOV DS, AX
     	LEA DX, msg1             	; load address of msg1 in DX
     	MOV AH, 9                    	; AH value for dos interrupt to print msg1
     	INT 21H                      	; interrupt dos that takes input from user
    
     	LEA SI, ARRAY              	; load adderss of ARRAY in SI
	CALL Get_Size			; get size and put it in AX





Get_Size PROC		; function to take array size from user (must be positive number from 0 to 255)
        
    
   PUSH BX                        ; push BX in the STACK
   PUSH CX                        ; push CX in the STACK
   PUSH DX                        ; push DX in the STACK
   

   XOR BX, BX                     ; clear BX
   XOR CX, CX                     ; clear CX
   XOR DX, DX                     ; clear DX
   MOV AH, 1                      ; input function
   INT 21H                        ; read input
   AND AX, 000FH                  ; ascii 2 decimal 

   MOV BX, AX                     ; set BX=AX+BX
   MOV AH, 1                      ; set input function
   INT 21H                        ; read input
   CMP AL, 0DH                    ; compare AL with enter
   
   MOV AX, BX                     ; AX=BX
   POP DX                         ; pop from STACK to DX
   POP CX                         ; pop from STACK to CX
   POP BX                         ; pop from STACK to BX
   RET                            ; return to CALL 
   Get_Size ENDP   



GET_ARRAY PROC ; to get array elements size in BX , address of ARRAY[0] in SI

   PUSH AX                        ; push AX in the STACK
   PUSH CX                        ; push CX in the STACK
   PUSH DX                        ; push DX in the STACK
   
   MOV CX, BX                     ;  CX=BX
   Label_GET_ARRAY:               ; loop label
     CALL ASCII_2_DECIMAL         ; call  ASCII_2_DECIMAL
     MOV [SI], AX                 ; [SI]=AX
     ADD SI, 2                    ; SI=SI+2
     MOV DL, 0AH                  ; new line
     MOV AH, 2                    ; for print 
     INT 21H                      ; print a character
   LOOP Label_GET_ARRAY           ; jump to Label_GET_ARRAY while CX!=0
   POP DX                         ; pop  from STACK to DX
   POP CX                         ; pop  from STACK to CX
   POP AX                         ; pop  from STACK to AX
   RET                            ; return to CALL
   GET_ARRAY ENDP








DISPLAY_ARRAY PROC 		  ; function to display array elements	, address of ARRAY[0] in SI , size in BX 
  
   
   PUSH AX                        ; push AX in the STACK   
   PUSH CX                        ; push CX in the STACK
   PUSH DX                        ; push DX in the STACK
   

   POP DX                         ; pop  from STACK into DX
   POP CX                         ; pop  from STACK into CX
   POP AX                         ; pop  from STACK into AX

   RET                            ; return control to the calling procedure
 DISPLAY_ARRAY ENDP







END MAIN